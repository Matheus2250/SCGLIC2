# üìã Sistema de Gest√£o de Contrata√ß√µes P√∫blicas (SCGLIC2)

## Vis√£o Geral

O **SCGLIC2** √© um sistema web completo desenvolvido para a **Coordena√ß√£o-Geral de Licita√ß√µes e Contratos (CGLIC)** da **Subsecretaria de Assuntos Administrativos (SAA)** do Minist√©rio da Sa√∫de. O sistema foi criado para digitalizar e gerenciar todo o ciclo de vida das contrata√ß√µes p√∫blicas, desde o planejamento inicial at√© a conclus√£o dos processos licitat√≥rios, proporcionando controle, transpar√™ncia e efici√™ncia na gest√£o de recursos p√∫blicos.

## Prop√≥sito e Contexto

O sistema atende √† necessidade de centralizar e organizar informa√ß√µes relacionadas √†s contrata√ß√µes p√∫blicas realizadas pelo √≥rg√£o, substituindo processos manuais e planilhas dispersas por uma plataforma integrada que permite acompanhamento em tempo real, gera√ß√£o de relat√≥rios, identifica√ß√£o de gargalos e tomada de decis√µes baseada em dados. A solu√ß√£o foi projetada especificamente para atender √†s particularidades e exig√™ncias do setor p√∫blico brasileiro, respeitando a legisla√ß√£o de licita√ß√µes e contratos administrativos.

## M√≥dulo de Planejamento (PCA)

O m√≥dulo de **Planejamento** gerencia o PCA (Plano de Contrata√ß√µes Anual), documento fundamental que lista todas as contrata√ß√µes previstas para o ano. Cada contrata√ß√£o possui um n√∫mero √∫nico, t√≠tulo descritivo, categoria, valor total estimado, √°rea requisitante, n√∫mero do DFD (Documento de Formaliza√ß√£o da Demanda), status atual e datas estimadas de in√≠cio e conclus√£o. O sistema permite cadastrar manualmente novas contrata√ß√µes ou importar dados em massa atrav√©s de arquivos Excel, com tratamento autom√°tico de caracteres especiais e valida√ß√µes de dados. Uma funcionalidade importante √© a identifica√ß√£o autom√°tica de **contrata√ß√µes atrasadas** (quando a data de in√≠cio prevista j√° passou mas o processo n√£o foi iniciado) e **contrata√ß√µes vencidas** (quando a data de conclus√£o j√° passou sem finaliza√ß√£o), gerando alertas visuais e facilitando a gest√£o de prazos. O m√≥dulo oferece visualiza√ß√µes estat√≠sticas com gr√°ficos de distribui√ß√£o por categoria, √°rea demandante, status e evolu√ß√£o temporal, permitindo an√°lises estrat√©gicas do planejamento institucional.

## M√≥dulo de Qualifica√ß√£o

O m√≥dulo de **Qualifica√ß√£o** representa a segunda fase do processo de contrata√ß√µes, onde as demandas aprovadas no PCA passam por an√°lise t√©cnica detalhada. Nesta etapa, √© gerado o **NUP (N√∫mero √önico de Processo)**, que identifica oficialmente o processo administrativo. Cada registro de qualifica√ß√£o est√° vinculado a uma contrata√ß√£o espec√≠fica do PCA atrav√©s do n√∫mero de contrata√ß√£o, mantendo a rastreabilidade completa. O m√≥dulo registra informa√ß√µes como √°rea demandante, respons√°vel pela instru√ß√£o do processo, modalidade de contrata√ß√£o (preg√£o eletr√¥nico, dispensa, inexigibilidade, etc.), descri√ß√£o detalhada do objeto, palavras-chave para busca, valor estimado da contrata√ß√£o e observa√ß√µes relevantes. O status da qualifica√ß√£o pode ser **EM AN√ÅLISE** (processo em andamento) ou **CONCLU√çDO** (processo pronto para licita√ß√£o), permitindo que a equipe acompanhe o andamento de cada instru√ß√£o processual. Este m√≥dulo √© fundamental para garantir que apenas demandas devidamente qualificadas e com documenta√ß√£o completa avancem para a fase de licita√ß√£o.

## M√≥dulo de Licita√ß√£o

O m√≥dulo de **Licita√ß√£o** gerencia a fase final do processo, onde as contrata√ß√µes qualificadas s√£o efetivamente levadas a preg√£o ou outro procedimento licitat√≥rio. Cada licita√ß√£o est√° vinculada a uma qualifica√ß√£o atrav√©s do NUP, mantendo o hist√≥rico completo desde o planejamento. O sistema registra informa√ß√µes cruciais como o pregoeiro respons√°vel, valor homologado (valor final contratado), data de homologa√ß√£o, link para acompanhamento no portal de compras, e o status do processo. Os status poss√≠veis s√£o **HOMOLOGADA** (licita√ß√£o conclu√≠da com sucesso), **FRACASSADA** (sem propostas v√°lidas ou vencedoras), **EM ANDAMENTO** (processo em curso) ou **REVOGADA** (licita√ß√£o cancelada por motivos administrativos). Uma funcionalidade importante √© o c√°lculo autom√°tico de **economia**, que compara o valor estimado inicialmente com o valor homologado, demonstrando a efici√™ncia da gest√£o e o benef√≠cio financeiro obtido. O m√≥dulo tamb√©m oferece estat√≠sticas sobre taxa de sucesso das licita√ß√µes, distribui√ß√£o por modalidade, economia total gerada e an√°lise temporal dos processos licitat√≥rios.

## Sistema de Autentica√ß√£o e Controle de Acesso

O sistema implementa um robusto esquema de autentica√ß√£o baseado em **JWT (JSON Web Tokens)**, garantindo seguran√ßa nas comunica√ß√µes entre frontend e backend. Os usu√°rios s√£o cadastrados com email √∫nico, senha criptografada com bcrypt, nome completo e n√≠vel de acesso. Existem cinco n√≠veis de acesso hier√°rquicos: **COORDENADOR** (acesso total ao sistema, incluindo administra√ß√£o de usu√°rios), **DIPLAN** (acesso ao planejamento e estat√≠sticas), **DIQUALI** (acesso √† qualifica√ß√£o e seus dados), **DIPLI** (acesso √† licita√ß√£o e relat√≥rios espec√≠ficos) e **VISITANTE** (apenas visualiza√ß√£o do dashboard geral). Cada rota e funcionalidade do sistema verifica o n√≠vel de acesso do usu√°rio, impedindo opera√ß√µes n√£o autorizadas. O sistema tamb√©m possui um mecanismo de **requisi√ß√£o de mudan√ßa de acesso**, onde usu√°rios podem solicitar eleva√ß√£o de privil√©gios justificando a necessidade, e coordenadores podem aprovar ou rejeitar essas solicita√ß√µes com observa√ß√µes.

## Gest√£o de Perfil de Usu√°rio

Cada usu√°rio possui uma √°rea de perfil onde pode personalizar suas informa√ß√µes, incluindo nome completo, email, senha e foto de perfil (avatar). O sistema suporta duas formas de avatar: URL externa (link para imagem hospedada na web) ou upload direto de arquivo, que √© armazenado como blob bin√°rio no banco de dados PostgreSQL. Os usu√°rios podem visualizar seu hist√≥rico de atividades, configurar dashboards personalizados e gerenciar suas prefer√™ncias de visualiza√ß√£o. Coordenadores possuem acesso a uma √°rea administrativa especial onde podem listar todos os usu√°rios do sistema, editar n√≠veis de acesso, ativar ou desativar contas, e visualizar requisi√ß√µes pendentes de mudan√ßa de acesso. A funcionalidade de troca de senha exige que o usu√°rio informe a senha atual antes de definir uma nova, garantindo seguran√ßa adicional.

## Sistema de Relat√≥rios e Exporta√ß√µes

O m√≥dulo de **Relat√≥rios** permite gerar documentos consolidados em PDF com dados de m√∫ltiplos m√≥dulos, aplicando filtros personalizados por per√≠odo, √°rea, status, categoria e outros crit√©rios. Os relat√≥rios s√£o gerados dinamicamente no frontend usando a biblioteca jsPDF com jspdf-autotable para tabelas formatadas, incluindo cabe√ßalhos institucionais, totalizadores, gr√°ficos e an√°lises estat√≠sticas. O sistema tamb√©m oferece exporta√ß√£o de dados em formato Excel (XLSX) diretamente das tabelas de cada m√≥dulo, permitindo an√°lises offline e integra√ß√£o com outras ferramentas. Os usu√°rios podem definir quais colunas exportar, aplicar filtros antes da exporta√ß√£o e escolher entre diferentes formatos de sa√≠da. Esta funcionalidade √© essencial para presta√ß√£o de contas, auditorias e tomadas de decis√£o baseadas em evid√™ncias.

## Dashboard e Visualiza√ß√µes

O **Dashboard** √© a p√°gina inicial do sistema, oferecendo uma vis√£o consolidada e de f√°cil acesso aos principais m√≥dulos e informa√ß√µes. Apresenta cards de atalho r√°pido para Planejamento, Qualifica√ß√£o, Licita√ß√£o e Relat√≥rios, facilitando a navega√ß√£o. Uma se√ß√£o de dicas r√°pidas orienta usu√°rios iniciantes sobre as funcionalidades dispon√≠veis. O componente de **Atividades Recentes** exibe em tempo real as √∫ltimas opera√ß√µes realizadas no sistema (cria√ß√µes, atualiza√ß√µes, importa√ß√µes), mostrando qual usu√°rio executou a a√ß√£o, em qual m√≥dulo e quando, promovendo transpar√™ncia e rastreabilidade. O sistema tamb√©m oferece p√°ginas espec√≠ficas de estat√≠sticas para cada m√≥dulo, com gr√°ficos interativos criados com Recharts, incluindo gr√°ficos de pizza, barras, linhas temporais e indicadores num√©ricos (KPIs), permitindo an√°lises visuais r√°pidas e identifica√ß√£o de padr√µes.

## Funcionalidades de Importa√ß√£o e Tratamento de Dados

Uma das funcionalidades mais poderosas do sistema √© a **importa√ß√£o em massa de dados do PCA via Excel**. O sistema aceita arquivos nos formatos XLSX e XLS, processa automaticamente as planilhas identificando colunas por nome (suportando m√∫ltiplas nomenclaturas), realiza limpeza e corre√ß√£o de caracteres especiais (comum em arquivos exportados de outros sistemas), converte datas de diferentes formatos para o padr√£o ISO, trata valores monet√°rios com separadores decimais variados, e valida a integridade de cada registro. Durante a importa√ß√£o, contrata√ß√µes existentes (identificadas pelo n√∫mero √∫nico) s√£o atualizadas automaticamente, enquanto novas contrata√ß√µes s√£o inseridas no banco de dados. O sistema fornece feedback detalhado sobre o processo, indicando quantos registros foram processados, quantos falharam e os motivos espec√≠ficos de cada erro, permitindo corre√ß√µes pontuais antes de nova tentativa.

## Tecnologias e Arquitetura

O **backend** foi desenvolvido em Python utilizando o framework **FastAPI**, reconhecido por sua performance e tipagem autom√°tica via Pydantic. O banco de dados √© **PostgreSQL**, um sistema robusto e amplamente utilizado no setor p√∫blico. O ORM **SQLAlchemy 2.0** gerencia os modelos e relacionamentos, enquanto o **Alembic** cuida das migra√ß√µes de esquema de forma versionada e rastre√°vel. A autentica√ß√£o JWT √© implementada com python-jose e passlib para hashing de senhas. O backend est√° hospedado no Render.com usando Gunicorn com workers Uvicorn para servir a aplica√ß√£o de forma escal√°vel. O **frontend** foi constru√≠do com **React 18 e TypeScript**, garantindo tipagem est√°tica e redu√ß√£o de bugs. A biblioteca **Material-UI (MUI)** fornece componentes visuais consistentes e acess√≠veis. O **React Router v6** gerencia a navega√ß√£o SPA (Single Page Application), enquanto **Axios** realiza as requisi√ß√µes HTTP com interceptors para tratamento centralizado de erros e inje√ß√£o de tokens. O **React Hook Form** com **Yup** valida formul√°rios de forma eficiente. O estado global √© gerenciado atrav√©s de Context API (AuthContext). O frontend tamb√©m est√° hospedado no Render.com, servido via `serve` ap√≥s build de produ√ß√£o com Vite.

## Auditoria e Rastreabilidade

Todos os registros principais do sistema (PCA, Qualifica√ß√£o, Licita√ß√£o) incluem campos de auditoria: **created_by** (UUID do usu√°rio que criou), **updated_by** (UUID do √∫ltimo usu√°rio que modificou), **created_at** (timestamp de cria√ß√£o) e **updated_at** (timestamp de √∫ltima atualiza√ß√£o). Isso permite rastrear completamente quem fez o qu√™ e quando, requisito fundamental para sistemas governamentais. O m√≥dulo de atividades registra todas as opera√ß√µes importantes, criando um log hist√≥rico que pode ser consultado para auditorias, an√°lises de produtividade ou investiga√ß√µes de incidentes. Esta camada de transpar√™ncia √© essencial para conformidade com normas de controle interno e externo.

## Recursos de Usabilidade e Experi√™ncia do Usu√°rio

O sistema foi projetado com foco na experi√™ncia do usu√°rio, incluindo uma **sidebar colaps√°vel** com √≠cones coloridos para f√°cil identifica√ß√£o visual, tabelas com cabe√ßalhos em negrito e filtros inline, componente de confirma√ß√£o customizado substituindo o alert nativo do navegador (mais elegante e consistente), toasts informativos para feedback de a√ß√µes (sucesso, erro, aviso), loading states durante opera√ß√µes ass√≠ncronas, e responsividade para diferentes tamanhos de tela. A p√°gina de login possui branding institucional com logos da CGLIC e SAA, criando identidade visual profissional. O sistema tamb√©m implementa valida√ß√µes em tempo real nos formul√°rios, destacando campos com erro antes do envio, e fornece mensagens de erro claras e acion√°veis, reduzindo frustra√ß√£o do usu√°rio.

## Funcionalidades Planejadas

O documento de planejamento do projeto indica melhorias futuras importantes, incluindo um **sistema de envio autom√°tico de e-mails** para alertar √°reas demandantes sobre contrata√ß√µes atrasadas ou pr√≥ximas de vencer, melhorando a comunica√ß√£o proativa. Est√° prevista a implementa√ß√£o de **login via Microsoft/Outlook** usando contas institucionais @saude.gov.br, facilitando o acesso e eliminando necessidade de cadastro separado. H√° tamb√©m planos para permitir acesso aos e-mails do usu√°rio (com permiss√£o) para exibir mensagens relevantes no dashboard, criando uma experi√™ncia mais integrada. A cria√ß√£o de **relat√≥rios pr√©-prontos espec√≠ficos para a SAA** est√° em desenvolvimento, atendendo demandas recorrentes de presta√ß√£o de contas e an√°lises estrat√©gicas. Finalmente, existe uma pend√™ncia para resolver um problema t√©cnico relacionado √† exclus√£o de usu√°rios, que atualmente apresenta restri√ß√µes devido a relacionamentos no banco de dados.

## Impacto e Benef√≠cios

O SCGLIC2 representa uma moderniza√ß√£o significativa na gest√£o de contrata√ß√µes p√∫blicas, trazendo benef√≠cios como **redu√ß√£o de tempo** em processos manuais, **maior transpar√™ncia** atrav√©s de rastreabilidade completa, **identifica√ß√£o proativa** de atrasos e gargalos, **dados consolidados** para tomada de decis√£o estrat√©gica, **padroniza√ß√£o** de procedimentos e informa√ß√µes, **facilidade de auditoria** com hist√≥rico completo de altera√ß√µes, e **economia de recursos** atrav√©s da identifica√ß√£o de inefici√™ncias. O sistema serve como ferramenta essencial para a CGLIC cumprir suas atribui√ß√µes com excel√™ncia, garantindo que o dinheiro p√∫blico seja empregado de forma eficiente, transparente e em conformidade com a legisla√ß√£o vigente.
